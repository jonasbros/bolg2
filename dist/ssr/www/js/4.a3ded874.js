(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "15ee":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleReply_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("9b5e");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleReply_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleReply_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "1fd3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6b75");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "2fde":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Post.vue?vue&type=template&id=c027a93e&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.post)?_c('q-page',{staticClass:"post__container",attrs:{"padding":""}},[(_vm.post.postPicture)?_c('div',{staticClass:"row justify-center items-start post__row post__picture-container"},[_c('div',{staticClass:"col-12"},[_c('div',{staticClass:"post__picture",style:({ backgroundImage: ("url(" + (_vm.post.postPicture) + ")") })})])]):_vm._e(),_c('div',{staticClass:"row justify-center items-start post__row"},[_c('div',{staticClass:"col-lg-6 col-md-7 col-sm-10 col-xs-12"},[_c('h1',{staticClass:"text-weight-bold text-h2"},[_vm._v(_vm._s(_vm._f("badwordsFilter")(_vm.post.title)))]),_c('div',{staticClass:"post__user-info-container"},[_c('div',{staticClass:"post__user-info"},[_c('img',{attrs:{"src":_vm.post.userPicture,"alt":_vm.post.userName}}),_c('div',[_c('p',{staticClass:"text-weight-bold"},[_vm._v(_vm._s(_vm.post.userName))]),_c('p',{staticClass:"text-caption"},[_vm._v(_vm._s(_vm.formattedPostDate))])])]),_c('div',[_c('Likes',{attrs:{"post":Object.assign({}, _vm.post, {id: _vm.$route.params.id})}})],1)])])]),_c('div',{staticClass:"row justify-center items-start post__row"},[_c('div',{staticClass:"col-lg-6 col-md-7 col-sm-10 col-xs-12"},_vm._l((_vm.post.tags),function(tag,index){return _c('q-chip',{key:index,attrs:{"color":"secondary"}},[_c('router-link',{staticClass:"text-white",attrs:{"to":{ name: 'Tag', params: { tag: tag } }}},[_vm._v("\n          #"+_vm._s(_vm._f("badwordsFilter")(tag))+"\n        ")])],1)}),1)]),_c('div',{staticClass:"row justify-center items-start post__row"},[_c('div',{staticClass:"col-lg-6 col-md-7 col-sm-10 col-xs-12"},[_c('div',{domProps:{"innerHTML":_vm._s(_vm.$options.filters.badwordsFilter(_vm.post.body))}}),_c('hr')])]),_c('div',{staticClass:"row justify-center items-start post__row"},[_c('div',{staticClass:"col-lg-6 col-md-7 col-sm-10 col-xs-12"},[_c('Comments',{attrs:{"post":Object.assign({}, _vm.post, {id: _vm.$route.params.id})}})],1)])]):_vm._e()}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/pages/Post.vue?vue&type=template&id=c027a93e&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js
var es_promise = __webpack_require__("e6cf");

// EXTERNAL MODULE: ./src/firebase/config.js
var config = __webpack_require__("8c56");

// EXTERNAL MODULE: ./node_modules/moment/moment.js
var moment = __webpack_require__("c1df");
var moment_default = /*#__PURE__*/__webpack_require__.n(moment);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Comments.vue?vue&type=template&id=96c3b98c&
var Commentsvue_type_template_id_96c3b98c_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:"text-weight-bold q-ma-none q-mb-md"},[_vm._v("Comments")]),(_vm.isAuthUser)?_c('div',{staticClass:"row"},[_c('div',{staticClass:"col-12"},[_c('q-form',{staticClass:"q-gutter-md",on:{"submit":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('q-input',{ref:"commentInput",attrs:{"outlined":"","color":"secondary","label":"Add a comment","lazy-rules":"","autogrow":"","rules":[ function (val) { return val && val.length > 0 || 'Please type something'; }]},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:"comment"}}),_c('div',{staticClass:"q-mt-xs"},[_c('q-btn',{attrs:{"label":"Who asked?","type":"submit","color":"secondary","loading":_vm.submitCommentLoading,"disable":_vm.submitCommentLoading}})],1)],1)],1)]):_vm._e(),_c('div',{staticClass:"row comments__container q-mt-lg"},[_c('div',{staticClass:"col-12"},_vm._l((_vm.comments),function(comment,index){return _c('div',{key:comment.id + index,staticClass:"row q-mb-md"},[_c('SingleComment',{attrs:{"comment":comment,"post":_vm.post}})],1)}),0)]),_c('div',{staticClass:"row q-mt-md justify-center"},[_c('div',{staticClass:"col-8"},[_c('q-btn',{staticClass:"full-width",attrs:{"color":"secondary","label":"Load comments","loading":_vm.commentsLoading},on:{"click":_vm.loadComments}})],1)])])}
var Commentsvue_type_template_id_96c3b98c_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/Comments.vue?vue&type=template&id=96c3b98c&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/objectSpread2.js
var objectSpread2 = __webpack_require__("ded3");
var objectSpread2_default = /*#__PURE__*/__webpack_require__.n(objectSpread2);

// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js
var web_dom_collections_iterator = __webpack_require__("ddb0");

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/SingleComment.vue?vue&type=template&id=0855427d&
var SingleCommentvue_type_template_id_0855427d_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"col-12"},[_c('q-card',{staticClass:"my-card bg-grey-1",attrs:{"flat":"","bordered":""}},[_c('q-card-section',{staticStyle:{"padding-bottom":"0"}},[_c('div',{staticClass:"row items-center no-wrap"},[_c('div',{staticClass:"col comment__user-info"},[_c('img',{attrs:{"src":_vm.comment.userPicture,"alt":_vm.comment.userName}}),_c('div',[_c('div',{staticClass:"text-weight-bold"},[_vm._v(_vm._s(_vm.comment.userName))]),_c('div',{staticClass:"text-caption"},[_vm._v(_vm._s(_vm.comment.createdAt))])])])])]),_c('q-card-section',[_vm._v("\n      "+_vm._s(_vm._f("badwordsFilter")(_vm.comment.body))+"\n    ")]),_c('q-card-section',{staticClass:"text-right text-grey-7",staticStyle:{"padding-top":"0"}},[_c('span',{staticClass:"text-subtitle2 q-mr-sm"},[_vm._v(_vm._s(_vm.likes)+" likes")]),_c('span',{staticClass:"text-subtitle2"},[_vm._v(_vm._s(_vm.repliesCount)+" replies")])]),(_vm.isAuthUser)?_c('q-separator'):_vm._e(),(_vm.isAuthUser)?_c('q-card-actions',{staticClass:"justify-around"},[_c('CommentLikes',{attrs:{"comment":_vm.comment},on:{"updateCommentLikesCount":_vm.updateCommentLikesCount}}),_c('q-item',{staticClass:"col-4",attrs:{"clickable":""},on:{"click":function($event){_vm.isActiveReply = !_vm.isActiveReply}}},[_c('q-item-section',{attrs:{"avatar":""}},[_c('q-icon',{attrs:{"color":"secondary","name":"far fa-comment-alt"}})],1),_c('q-item-section',[_c('q-item-label',[_vm._v("\n            Reply\n          ")])],1)],1)],1):_vm._e(),_c('q-card-section',{directives:[{name:"show",rawName:"v-show",value:(_vm.isActiveReply),expression:"isActiveReply"}],staticClass:"text-grey-7",staticStyle:{"padding-top":"0"}},[_c('Reply',{attrs:{"comment":_vm.comment,"user":_vm.isAuthUser},on:{"updateCommentRepliesCount":_vm.updateCommentRepliesCount,"appendNewReply":_vm.appendNewReply}})],1),(_vm.replies.length)?_c('hr',{staticClass:"q-separator q-separator q-separator--horizontal"}):_vm._e(),_c('q-card-section',{staticClass:"q-pa-none"},_vm._l((_vm.replies),function(reply,index){return _c('SingleReply',{key:reply.id,attrs:{"reply":reply}})}),1)],1)],1)}
var SingleCommentvue_type_template_id_0855427d_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/SingleComment.vue?vue&type=template&id=0855427d&

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/CommentLikes.vue?vue&type=template&id=c51240e0&
var CommentLikesvue_type_template_id_c51240e0_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-item',{directives:[{name:"show",rawName:"v-show",value:(!_vm.isLiked),expression:"!isLiked"}],staticClass:"col-4",attrs:{"clickable":""},on:{"click":_vm.likeHandler}},[_c('q-item-section',{attrs:{"avatar":""}},[_c('q-icon',{attrs:{"color":"secondary","name":"far fa-thumbs-up"}})],1),_c('q-item-section',[_c('q-item-label',[_vm._v("\n        Like\n      ")])],1)],1),_c('q-item',{directives:[{name:"show",rawName:"v-show",value:(_vm.isLiked),expression:"isLiked"}],staticClass:"col-4",attrs:{"clickable":""},on:{"click":_vm.unlikeHandler}},[_c('q-item-section',{attrs:{"avatar":""}},[_c('q-icon',{attrs:{"color":"secondary","name":"fas fa-thumbs-up"}})],1),_c('q-item-section',[_c('q-item-label',[_vm._v("\n        Like\n      ")])],1)],1)],1)}
var CommentLikesvue_type_template_id_c51240e0_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/CommentLikes.vue?vue&type=template&id=c51240e0&

// EXTERNAL MODULE: ./node_modules/quasar/src/utils/debounce.js
var debounce = __webpack_require__("1c16");

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/CommentLikes.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

;
/* harmony default export */ var CommentLikesvue_type_script_lang_js_ = ({
  name: 'CommentLikes',
  props: ['comment'],

  data() {
    return {
      likes: 0,
      isLiked: false,
      isAuthUser: false,
      authUserInfo: [],
      userLikeId: ''
    };
  },

  mounted() {
    console.log(this.comment);
    this.authUserInfo = this.$store.getters['example/getAuthUser'];
    this.likes = this.comment.likes;
    this.isAuthUser = this.authUserInfo;
    this.isUserLikedPost();
  },

  methods: {
    likeHandler: Object(debounce["a" /* default */])(async function () {
      if (this.isLiked || !this.isAuthUser) return;
      let db = config["a" /* firebase */].firestore();
      let {
        uid,
        displayName,
        photoURL
      } = this.authUserInfo;
      let newLikesCount = this.likes + 1;
      let likes = await db.collection('comments').doc(this.comment.id).collection('likes').add({
        userId: uid,
        userName: displayName,
        photoURL: photoURL
      });
      this.userLikeId = await likes.id;
      await db.collection('comments').doc(this.comment.id).update({
        likes: newLikesCount
      }).then(() => {
        this.likes++;
        this.$emit('updateCommentLikesCount', this.likes);
        this.isLiked = true;
      }).catch(err => {
        console.log(err);
      });
    }, 300),
    // likeHandler()
    unlikeHandler: Object(debounce["a" /* default */])(async function () {
      if (!this.isLiked || !this.isAuthUser) return;
      let db = config["a" /* firebase */].firestore();
      let newLikesCount = this.likes - 1;
      let likes = await db.collection('comments').doc(this.comment.id).collection('likes').doc(this.userLikeId).delete();
      await db.collection('comments').doc(this.comment.id).update({
        likes: newLikesCount
      }).then(() => {
        this.likes--;
        this.$emit('updateCommentLikesCount', this.likes);
        this.isLiked = false;
      }).catch(err => {
        console.log(err);
      });
    }, 300),

    // unlikeHandler()    
    async isUserLikedPost() {
      let db = config["a" /* firebase */].firestore();
      let userLikedPosts = await db.collection('comments').doc(this.comment.id).collection('likes').where('userId', '==', this.isAuthUser.uid).get();

      if (await !userLikedPosts.empty) {
        this.userLikeId = userLikedPosts.docs[0].id;
        this.isLiked = true;
      }
    } // isUserLikedPost()


  } // methods

});
// CONCATENATED MODULE: ./src/components/CommentLikes.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_CommentLikesvue_type_script_lang_js_ = (CommentLikesvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js
var QItem = __webpack_require__("66e5");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemSection.js
var QItemSection = __webpack_require__("4074");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js
var QIcon = __webpack_require__("0016");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemLabel.js
var QItemLabel = __webpack_require__("0170");

// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js
var runtime_auto_import = __webpack_require__("eebe");
var runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);

// CONCATENATED MODULE: ./src/components/CommentLikes.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_CommentLikesvue_type_script_lang_js_,
  CommentLikesvue_type_template_id_c51240e0_render,
  CommentLikesvue_type_template_id_c51240e0_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var CommentLikes = (component.exports);





runtime_auto_import_default()(component, 'components', {QItem: QItem["a" /* default */],QItemSection: QItemSection["a" /* default */],QIcon: QIcon["a" /* default */],QItemLabel: QItemLabel["a" /* default */]});

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Reply.vue?vue&type=template&id=2c1b1ba4&
var Replyvue_type_template_id_2c1b1ba4_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-form',{staticClass:"q-gutter-md",on:{"submit":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('q-input',{ref:"replyInput",attrs:{"outlined":"","color":"secondary","label":"Add a reply","lazy-rules":"","autogrow":"","rules":[ function (val) { return val && val.length > 0 || 'Please type something'; }]},model:{value:(_vm.reply),callback:function ($$v) {_vm.reply=$$v},expression:"reply"}}),_c('q-btn',{attrs:{"label":"Who asked?","type":"submit","color":"secondary","loading":_vm.submitReplyLoading,"disable":_vm.submitReplyLoading}})],1)}
var Replyvue_type_template_id_2c1b1ba4_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/Reply.vue?vue&type=template&id=2c1b1ba4&

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Reply.vue?vue&type=script&lang=js&


//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Replyvue_type_script_lang_js_ = ({
  name: 'Reply',
  props: ['comment', 'user'],

  data() {
    return {
      reply: '',
      repliesCount: 0,
      submitReplyLoading: false
    };
  },

  mounted() {
    console.log(this.comment);
    this.repliesCount = this.comment.replies;
  },

  methods: {
    async onSubmit() {
      let db = config["a" /* firebase */].firestore();
      this.submitReplyLoading = true;
      let newReply = await db.collection('comments').doc(this.comment.id).collection('replies').add({
        userName: this.user.displayName,
        userId: this.user.uid,
        userPicture: this.user.photoURL,
        body: this.reply,
        createdAt: Object(config["c" /* timestamp */])()
      });
      await db.collection('comments').doc(this.comment.id).update({
        replies: this.repliesCount + 1
      });
      this.repliesCount++;
      this.reply = '';
      this.$emit('updateCommentRepliesCount', this.repliesCount);
      this.loadNewReply(newReply.id);
      this.submitReplyLoading = false;
    },

    //onSubmit() 
    async loadNewReply(replyId) {
      let db = config["a" /* firebase */].firestore();
      let newReply = await db.collection('comments').doc(this.comment.id).collection('replies').doc(replyId).get(); //last item to startAt for pagination

      this.commentsLastVisible = newReply; //

      newReply = newReply.data(); //format createdAt date

      newReply.createdAt = moment_default()(newReply.createdAt.toDate()).format('MMM DD, YYYY HH:mm:ss a'); //add new comment to top of array

      this.$emit('appendNewReply', objectSpread2_default()({
        id: replyId
      }, newReply));
      console.log(this.comments);
    }

  }
});
// CONCATENATED MODULE: ./src/components/Reply.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_Replyvue_type_script_lang_js_ = (Replyvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/quasar/src/components/form/QForm.js
var QForm = __webpack_require__("0378");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 3 modules
var QInput = __webpack_require__("27f9");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js
var QBtn = __webpack_require__("9c40");

// CONCATENATED MODULE: ./src/components/Reply.vue





/* normalize component */

var Reply_component = Object(componentNormalizer["a" /* default */])(
  components_Replyvue_type_script_lang_js_,
  Replyvue_type_template_id_2c1b1ba4_render,
  Replyvue_type_template_id_2c1b1ba4_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Reply = (Reply_component.exports);




runtime_auto_import_default()(Reply_component, 'components', {QForm: QForm["a" /* default */],QInput: QInput["a" /* default */],QBtn: QBtn["a" /* default */]});

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/SingleReply.vue?vue&type=template&id=4b7a3f76&
var SingleReplyvue_type_template_id_4b7a3f76_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"reply__container q-pa-md"},[_c('div',{staticClass:"row"},[_c('div',{staticClass:"col-12"},[_c('div',{staticClass:"row"},[_c('img',{attrs:{"src":_vm.reply.userPicture,"alt":_vm.reply.userName}}),_c('div',[_c('p',{staticClass:"text-weight-bold"},[_vm._v("\n            "+_vm._s(_vm.reply.userName)+"\n          ")]),_c('p',{staticClass:"text-caption"},[_vm._v("\n            "+_vm._s(_vm.reply.createdAt)+"\n          ")])])])])]),_c('div',{staticClass:"row reply-body__container"},[_c('p',[_vm._v(_vm._s(_vm._f("badwordsFilter")(_vm.reply.body)))])]),_c('hr',{staticClass:"q-separator q-separator q-separator--horizontal"})])}
var SingleReplyvue_type_template_id_4b7a3f76_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/SingleReply.vue?vue&type=template&id=4b7a3f76&

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/SingleReply.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var SingleReplyvue_type_script_lang_js_ = ({
  name: 'SingleReply',
  props: ['reply'],

  data() {
    return {};
  }

});
// CONCATENATED MODULE: ./src/components/SingleReply.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_SingleReplyvue_type_script_lang_js_ = (SingleReplyvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/components/SingleReply.vue?vue&type=style&index=0&lang=scss&
var SingleReplyvue_type_style_index_0_lang_scss_ = __webpack_require__("15ee");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/separator/QSeparator.js
var QSeparator = __webpack_require__("eb85");

// CONCATENATED MODULE: ./src/components/SingleReply.vue






/* normalize component */

var SingleReply_component = Object(componentNormalizer["a" /* default */])(
  components_SingleReplyvue_type_script_lang_js_,
  SingleReplyvue_type_template_id_4b7a3f76_render,
  SingleReplyvue_type_template_id_4b7a3f76_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var SingleReply = (SingleReply_component.exports);


runtime_auto_import_default()(SingleReply_component, 'components', {QSeparator: QSeparator["a" /* default */]});

// EXTERNAL MODULE: ./node_modules/quasar/src/utils/date.js + 2 modules
var utils_date = __webpack_require__("bd4c");

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/SingleComment.vue?vue&type=script&lang=js&


//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




;
/* harmony default export */ var SingleCommentvue_type_script_lang_js_ = ({
  name: 'SingleComponent',
  props: ['comment'],
  components: {
    CommentLikes: CommentLikes,
    Reply: Reply,
    SingleReply: SingleReply
  },

  data() {
    return {
      likes: 0,
      replies: [],
      repliesCount: 0,
      isAuthUser: null,
      isActiveReply: false,
      isAuthUser: null
    };
  },

  mounted() {
    this.likes = this.comment.likes;
    this.repliesCount = this.comment.replies;
    this.isAuthUser = this.$store.getters['example/getAuthUser'];
    console.log(this.comment);
    this.getCommentReplies();
  },

  methods: {
    updateCommentLikesCount(newLikesCount) {
      this.likes = newLikesCount;
    },

    updateCommentRepliesCount(newRepliesCount) {
      this.repliesCount = newRepliesCount;
      this.isActiveReply = false;
    },

    async getCommentReplies() {
      let db = config["a" /* firebase */].firestore();
      let replies = await db.collection('comments').doc(this.comment.id).collection('replies').orderBy('createdAt', 'desc').get();
      this.replies = replies.docs.map(doc => {
        let newDoc = doc.data();
        newDoc.createdAt = utils_date["a" /* default */].formatDate(newDoc.createdAt.toDate(), 'MMM DD, YYYY hh:mm:ss a');
        return objectSpread2_default()({
          id: doc.id
        }, newDoc);
      });
      console.log(this.replies);
    },

    //getCommentReplies
    appendNewReply(newReply) {
      this.replies.unshift(newReply);
    }

  }
});
// CONCATENATED MODULE: ./src/components/SingleComment.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_SingleCommentvue_type_script_lang_js_ = (SingleCommentvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/components/SingleComment.vue?vue&type=style&index=0&lang=scss&
var SingleCommentvue_type_style_index_0_lang_scss_ = __webpack_require__("cd32");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js
var QCard = __webpack_require__("f09f");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js
var QCardSection = __webpack_require__("a370");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js
var QCardActions = __webpack_require__("4b7e");

// CONCATENATED MODULE: ./src/components/SingleComment.vue






/* normalize component */

var SingleComment_component = Object(componentNormalizer["a" /* default */])(
  components_SingleCommentvue_type_script_lang_js_,
  SingleCommentvue_type_template_id_0855427d_render,
  SingleCommentvue_type_template_id_0855427d_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var SingleComment = (SingleComment_component.exports);









runtime_auto_import_default()(SingleComment_component, 'components', {QCard: QCard["a" /* default */],QCardSection: QCardSection["a" /* default */],QSeparator: QSeparator["a" /* default */],QCardActions: QCardActions["a" /* default */],QItem: QItem["a" /* default */],QItemSection: QItemSection["a" /* default */],QIcon: QIcon["a" /* default */],QItemLabel: QItemLabel["a" /* default */]});

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Comments.vue?vue&type=script&lang=js&



//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var Commentsvue_type_script_lang_js_ = ({
  name: 'Comments',
  props: ['post'],
  components: {
    SingleComment: SingleComment
  },

  data() {
    return {
      comment: '',
      commentsLoading: false,
      commentsPer: 8,
      commentsLastVisible: [],
      comments: [],
      isAuthUser: null,
      postId: null,
      submitCommentLoading: false
    };
  },

  created() {
    this.isAuthUser = this.$store.getters['example/getAuthUser'];
    this.postId = this.$route.params.id;
  },

  methods: {
    async onSubmit() {
      if (!this.isAuthUser) {
        console.log('No Login!');
        return;
      }

      let db = config["a" /* firebase */].firestore();
      this.submitCommentLoading = true;
      let newCommentRes = await db.collection('comments').add({
        userId: this.isAuthUser.uid,
        userName: this.isAuthUser.displayName,
        userPicture: this.isAuthUser.photoURL,
        postId: this.postId,
        body: this.comment,
        createdAt: Object(config["c" /* timestamp */])(),
        replies: 0,
        likes: 0
      });
      this.$refs.commentInput.resetValidation();
      this.comment = '';
      this.loadNewComment(newCommentRes.id);
      this.submitCommentLoading = false;
    },

    async loadNewComment(commentId) {
      let db = config["a" /* firebase */].firestore();
      let newComment = await db.collection('comments').doc(commentId).get(); //last item to startAt for pagination

      this.commentsLastVisible = newComment; //

      newComment = newComment.data(); //format createdAt date

      newComment.createdAt = moment_default()(newComment.createdAt.toDate()).format('MMM DD, YYYY HH:mm:ss a'); //add new comment to top of array

      this.comments.unshift(objectSpread2_default()({
        id: commentId
      }, newComment));
      console.log(this.comments);
    },

    async loadComments() {
      if (!this.commentsLastVisible) return;
      let db = config["a" /* firebase */].firestore();
      this.commentsLoading = true; //first set of comments

      let comments = [];

      if (!this.comments.length) {
        comments = await db.collection('comments').where('postId', '==', this.post.id).orderBy('createdAt', 'desc').limit(this.commentsPer).get();
      } else {
        //pagination
        comments = await db.collection('comments').where('postId', '==', this.post.id).orderBy('createdAt', 'desc').startAfter(this.commentsLastVisible).limit(this.commentsPer).get();
      } //last comment for pagination


      this.commentsLastVisible = comments.docs[comments.docs.length - 1]; //

      comments = await comments.docs.map((doc, i, arr) => {
        let newDoc = doc.data();
        newDoc.createdAt = this.formattedCommentDate(newDoc.createdAt.toDate());
        return objectSpread2_default()({
          id: doc.id
        }, newDoc);
      });
      this.comments.push(...comments);
      this.commentsLoading = false;
    },

    // loadComments()
    formattedCommentDate(date) {
      return moment_default()(date).format('MMM DD, YYYY hh:mm:ss a');
    }

  }
});
// CONCATENATED MODULE: ./src/components/Comments.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_Commentsvue_type_script_lang_js_ = (Commentsvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/Comments.vue





/* normalize component */

var Comments_component = Object(componentNormalizer["a" /* default */])(
  components_Commentsvue_type_script_lang_js_,
  Commentsvue_type_template_id_96c3b98c_render,
  Commentsvue_type_template_id_96c3b98c_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Comments = (Comments_component.exports);




runtime_auto_import_default()(Comments_component, 'components', {QForm: QForm["a" /* default */],QInput: QInput["a" /* default */],QBtn: QBtn["a" /* default */]});

// EXTERNAL MODULE: ./src/components/Likes.vue + 4 modules
var Likes = __webpack_require__("65c2");

// EXTERNAL MODULE: ./node_modules/bad-words/lib/badwords.js
var badwords = __webpack_require__("9f9a");

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Post.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Postvue_type_script_lang_js_ = ({
  name: 'Post',
  components: {
    Comments: Comments,
    Likes: Likes["a" /* default */]
  },

  data() {
    return {
      post: null,
      formattedPostDate: null,
      metaInfo: 'test'
    };
  },

  meta() {
    return {
      title: this.post.title
    };
  },

  async created() {
    this.$q.loading.show();
    let postId = this.$route.params.id;
    let res = await config["a" /* firebase */].firestore().collection('posts').doc(postId).get();
    this.formattedPostDate = moment_default()(res.data().createdAt.toDate()).format('MMM DD, YYYY YYYY HH:mm:ss a');
    this.post = await res.data();
    this.$q.loading.hide();
  }

});
// CONCATENATED MODULE: ./src/pages/Post.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_Postvue_type_script_lang_js_ = (Postvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/pages/Post.vue?vue&type=style&index=0&lang=scss&
var Postvue_type_style_index_0_lang_scss_ = __webpack_require__("1fd3");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js
var QPage = __webpack_require__("9989");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/chip/QChip.js
var QChip = __webpack_require__("b047");

// CONCATENATED MODULE: ./src/pages/Post.vue






/* normalize component */

var Post_component = Object(componentNormalizer["a" /* default */])(
  pages_Postvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Post = __webpack_exports__["default"] = (Post_component.exports);



runtime_auto_import_default()(Post_component, 'components', {QPage: QPage["a" /* default */],QChip: QChip["a" /* default */]});


/***/ }),

/***/ "4678":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "2bfb",
	"./af.js": "2bfb",
	"./ar": "8e73",
	"./ar-dz": "a356",
	"./ar-dz.js": "a356",
	"./ar-kw": "423e",
	"./ar-kw.js": "423e",
	"./ar-ly": "1cfd",
	"./ar-ly.js": "1cfd",
	"./ar-ma": "0a84",
	"./ar-ma.js": "0a84",
	"./ar-sa": "8230",
	"./ar-sa.js": "8230",
	"./ar-tn": "6d83",
	"./ar-tn.js": "6d83",
	"./ar.js": "8e73",
	"./az": "485c",
	"./az.js": "485c",
	"./be": "1fc1",
	"./be.js": "1fc1",
	"./bg": "84aa",
	"./bg.js": "84aa",
	"./bm": "a7fa",
	"./bm.js": "a7fa",
	"./bn": "9043",
	"./bn-bd": "9686",
	"./bn-bd.js": "9686",
	"./bn.js": "9043",
	"./bo": "d26a",
	"./bo.js": "d26a",
	"./br": "6887",
	"./br.js": "6887",
	"./bs": "2554",
	"./bs.js": "2554",
	"./ca": "d716",
	"./ca.js": "d716",
	"./cs": "3c0d",
	"./cs.js": "3c0d",
	"./cv": "03ec",
	"./cv.js": "03ec",
	"./cy": "9797",
	"./cy.js": "9797",
	"./da": "0f14",
	"./da.js": "0f14",
	"./de": "b469",
	"./de-at": "b3eb",
	"./de-at.js": "b3eb",
	"./de-ch": "bb71",
	"./de-ch.js": "bb71",
	"./de.js": "b469",
	"./dv": "598a",
	"./dv.js": "598a",
	"./el": "8d47",
	"./el.js": "8d47",
	"./en-au": "0e6b",
	"./en-au.js": "0e6b",
	"./en-ca": "3886",
	"./en-ca.js": "3886",
	"./en-gb": "39a6",
	"./en-gb.js": "39a6",
	"./en-ie": "e1d3",
	"./en-ie.js": "e1d3",
	"./en-il": "7333",
	"./en-il.js": "7333",
	"./en-in": "ec2e",
	"./en-in.js": "ec2e",
	"./en-nz": "6f50",
	"./en-nz.js": "6f50",
	"./en-sg": "b7e9",
	"./en-sg.js": "b7e9",
	"./eo": "65db",
	"./eo.js": "65db",
	"./es": "898b",
	"./es-do": "0a3c",
	"./es-do.js": "0a3c",
	"./es-mx": "b5b7",
	"./es-mx.js": "b5b7",
	"./es-us": "55c9",
	"./es-us.js": "55c9",
	"./es.js": "898b",
	"./et": "ec18",
	"./et.js": "ec18",
	"./eu": "0ff2",
	"./eu.js": "0ff2",
	"./fa": "8df48",
	"./fa.js": "8df48",
	"./fi": "81e9",
	"./fi.js": "81e9",
	"./fil": "d69a",
	"./fil.js": "d69a",
	"./fo": "0721",
	"./fo.js": "0721",
	"./fr": "9f26",
	"./fr-ca": "d9f8",
	"./fr-ca.js": "d9f8",
	"./fr-ch": "0e49",
	"./fr-ch.js": "0e49",
	"./fr.js": "9f26",
	"./fy": "7118",
	"./fy.js": "7118",
	"./ga": "5120",
	"./ga.js": "5120",
	"./gd": "f6b46",
	"./gd.js": "f6b46",
	"./gl": "8840",
	"./gl.js": "8840",
	"./gom-deva": "aaf2",
	"./gom-deva.js": "aaf2",
	"./gom-latn": "0caa",
	"./gom-latn.js": "0caa",
	"./gu": "e0c5",
	"./gu.js": "e0c5",
	"./he": "c7aa",
	"./he.js": "c7aa",
	"./hi": "dc4d",
	"./hi.js": "dc4d",
	"./hr": "4ba9",
	"./hr.js": "4ba9",
	"./hu": "5b14",
	"./hu.js": "5b14",
	"./hy-am": "d6b6",
	"./hy-am.js": "d6b6",
	"./id": "5038",
	"./id.js": "5038",
	"./is": "0558",
	"./is.js": "0558",
	"./it": "6e98",
	"./it-ch": "6f12",
	"./it-ch.js": "6f12",
	"./it.js": "6e98",
	"./ja": "079e",
	"./ja.js": "079e",
	"./jv": "b540",
	"./jv.js": "b540",
	"./ka": "201b",
	"./ka.js": "201b",
	"./kk": "6d79",
	"./kk.js": "6d79",
	"./km": "e81d",
	"./km.js": "e81d",
	"./kn": "3e92",
	"./kn.js": "3e92",
	"./ko": "22f8",
	"./ko.js": "22f8",
	"./ku": "2421",
	"./ku.js": "2421",
	"./ky": "9609",
	"./ky.js": "9609",
	"./lb": "440c",
	"./lb.js": "440c",
	"./lo": "b29d",
	"./lo.js": "b29d",
	"./lt": "26f9",
	"./lt.js": "26f9",
	"./lv": "b97c",
	"./lv.js": "b97c",
	"./me": "293c",
	"./me.js": "293c",
	"./mi": "688b",
	"./mi.js": "688b",
	"./mk": "6909",
	"./mk.js": "6909",
	"./ml": "02fb",
	"./ml.js": "02fb",
	"./mn": "958b",
	"./mn.js": "958b",
	"./mr": "39bd",
	"./mr.js": "39bd",
	"./ms": "ebe4",
	"./ms-my": "6403",
	"./ms-my.js": "6403",
	"./ms.js": "ebe4",
	"./mt": "1b45",
	"./mt.js": "1b45",
	"./my": "8689",
	"./my.js": "8689",
	"./nb": "6ce3",
	"./nb.js": "6ce3",
	"./ne": "3a39",
	"./ne.js": "3a39",
	"./nl": "facd",
	"./nl-be": "db29",
	"./nl-be.js": "db29",
	"./nl.js": "facd",
	"./nn": "b84c",
	"./nn.js": "b84c",
	"./oc-lnc": "167b",
	"./oc-lnc.js": "167b",
	"./pa-in": "f3ff",
	"./pa-in.js": "f3ff",
	"./pl": "8d57",
	"./pl.js": "8d57",
	"./pt": "f260",
	"./pt-br": "d2d4",
	"./pt-br.js": "d2d4",
	"./pt.js": "f260",
	"./ro": "972c",
	"./ro.js": "972c",
	"./ru": "957c",
	"./ru.js": "957c",
	"./sd": "6784",
	"./sd.js": "6784",
	"./se": "ffff",
	"./se.js": "ffff",
	"./si": "eda5",
	"./si.js": "eda5",
	"./sk": "7be6",
	"./sk.js": "7be6",
	"./sl": "8155",
	"./sl.js": "8155",
	"./sq": "c8f3",
	"./sq.js": "c8f3",
	"./sr": "cf1e",
	"./sr-cyrl": "13e9",
	"./sr-cyrl.js": "13e9",
	"./sr.js": "cf1e",
	"./ss": "52bd",
	"./ss.js": "52bd",
	"./sv": "5fbd",
	"./sv.js": "5fbd",
	"./sw": "74dc",
	"./sw.js": "74dc",
	"./ta": "3de5",
	"./ta.js": "3de5",
	"./te": "5cbb",
	"./te.js": "5cbb",
	"./tet": "576c",
	"./tet.js": "576c",
	"./tg": "3b1b",
	"./tg.js": "3b1b",
	"./th": "10e8",
	"./th.js": "10e8",
	"./tk": "5aff",
	"./tk.js": "5aff",
	"./tl-ph": "0f38",
	"./tl-ph.js": "0f38",
	"./tlh": "cf75",
	"./tlh.js": "cf75",
	"./tr": "0e81",
	"./tr.js": "0e81",
	"./tzl": "cf51",
	"./tzl.js": "cf51",
	"./tzm": "c109",
	"./tzm-latn": "b53d",
	"./tzm-latn.js": "b53d",
	"./tzm.js": "c109",
	"./ug-cn": "6117",
	"./ug-cn.js": "6117",
	"./uk": "ada2",
	"./uk.js": "ada2",
	"./ur": "5294",
	"./ur.js": "5294",
	"./uz": "2e8c",
	"./uz-latn": "010e",
	"./uz-latn.js": "010e",
	"./uz.js": "2e8c",
	"./vi": "2921",
	"./vi.js": "2921",
	"./x-pseudo": "fd7e",
	"./x-pseudo.js": "fd7e",
	"./yo": "7f33",
	"./yo.js": "7f33",
	"./zh-cn": "5c3a",
	"./zh-cn.js": "5c3a",
	"./zh-hk": "49ab",
	"./zh-hk.js": "49ab",
	"./zh-mo": "3a6c",
	"./zh-mo.js": "3a6c",
	"./zh-tw": "90ea",
	"./zh-tw.js": "90ea"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "4678";

/***/ }),

/***/ "65c2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Likes.vue?vue&type=template&id=21731b93&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isAuthUser)?_c('q-icon',{staticClass:"q-mr-sm",attrs:{"color":"secondary","name":"far fa-thumbs-up","size":"1.5em"}}):_vm._e(),_c('q-btn',{directives:[{name:"show",rawName:"v-show",value:(!_vm.isLiked && _vm.isAuthUser),expression:"!isLiked && isAuthUser"}],staticStyle:{"font-size":"0.75rem"},attrs:{"flat":"","round":"","color":"secondary","icon":"far fa-thumbs-up"},on:{"click":_vm.likeHandler}}),_c('q-btn',{directives:[{name:"show",rawName:"v-show",value:(_vm.isLiked && _vm.isAuthUser),expression:"isLiked && isAuthUser"}],staticStyle:{"font-size":"0.75rem"},attrs:{"flat":"","round":"","color":"secondary","icon":"fas fa-thumbs-up"},on:{"click":_vm.unlikeHandler}}),_c('span',[_vm._v("\n    "+_vm._s(_vm.likes)+" likes\n  ")])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/components/Likes.vue?vue&type=template&id=21731b93&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js
var es_promise = __webpack_require__("e6cf");

// EXTERNAL MODULE: ./node_modules/quasar/src/utils/debounce.js
var debounce = __webpack_require__("1c16");

// EXTERNAL MODULE: ./src/firebase/config.js
var config = __webpack_require__("8c56");

// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Likes.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
;

/* harmony default export */ var Likesvue_type_script_lang_js_ = ({
  name: 'Likes',
  props: ['post'],

  data() {
    return {
      likes: 0,
      isLiked: false,
      isAuthUser: false,
      authUserInfo: [],
      userLikeId: ''
    };
  },

  mounted() {
    this.authUserInfo = this.$store.getters['example/getAuthUser'];
    this.isAuthUser = this.authUserInfo;
    this.likes = this.post.likes;
    if (this.isAuthUser) this.isUserLikedPost();
  },

  methods: {
    unlikeHandler: Object(debounce["a" /* default */])(async function () {
      if (!this.isLiked || !this.isAuthUser) return;
      let db = config["a" /* firebase */].firestore();
      let newLikesCount = this.likes - 1;
      let likes = await db.collection('likes').doc(this.userLikeId).delete();
      await db.collection('posts').doc(this.post.id).update({
        likes: newLikesCount
      }).then(() => {
        this.likes--;
        this.isLiked = false;
      }).catch(err => {
        console.log(err);
      });
    }, 300),
    // unlikeHandler()
    likeHandler: Object(debounce["a" /* default */])(async function () {
      if (this.isLiked || !this.isAuthUser) return;
      let db = config["a" /* firebase */].firestore();
      console.log(this);
      let {
        uid,
        displayName,
        photoURL
      } = this.authUserInfo;
      let newLikesCount = this.likes + 1;
      let likes = await db.collection('likes').add({
        userId: uid,
        userName: displayName,
        photoURL: photoURL,
        postId: this.post.id
      });
      this.userLikeId = await likes.id;
      await db.collection('posts').doc(this.post.id).update({
        likes: newLikesCount
      }).then(() => {
        this.likes++;
        this.isLiked = true;
      }).catch(err => {
        console.log(err);
      });
    }, 300),

    // unlikeHandler()
    async isUserLikedPost() {
      let db = config["a" /* firebase */].firestore();
      let userLikedPosts = await db.collection('likes').where('userId', '==', this.isAuthUser.uid).where('postId', '==', this.post.id).get();

      if (await !userLikedPosts.empty) {
        this.userLikeId = userLikedPosts.docs[0].id;
        this.isLiked = true;
      }
    }

  }
});
// CONCATENATED MODULE: ./src/components/Likes.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_Likesvue_type_script_lang_js_ = (Likesvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js
var QIcon = __webpack_require__("0016");

// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js
var QBtn = __webpack_require__("9c40");

// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js
var runtime_auto_import = __webpack_require__("eebe");
var runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);

// CONCATENATED MODULE: ./src/components/Likes.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_Likesvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Likes = __webpack_exports__["a"] = (component.exports);



runtime_auto_import_default()(component, 'components', {QIcon: QIcon["a" /* default */],QBtn: QBtn["a" /* default */]});


/***/ }),

/***/ "6b75":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "9b5e":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "a1f6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "cd32":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleComment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a1f6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleComment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_SingleComment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ })

}]);
//# sourceMappingURL=4.a3ded874.js.map